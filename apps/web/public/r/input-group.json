{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "input-group",
  "dependencies": [],
  "files": [
    {
      "path": "ui/InputGroup.astro",
      "content": "---\r\n/**\r\n * @component InputGroup\r\n * @title Input Group\r\n * @description An input field with attached addons like icons, buttons, or text labels.\r\n * @figmaUrl https://www.figma.com/design/koxai7zw5vIuBzuVxe5T2l/bejamas-ui?node-id=2549-20918&t=YFStJ3V8fXEO8QD8-4\r\n *\r\n * @preview\r\n *\r\n * <div className=\"grid w-full max-w-sm gap-6\">\r\n *   <InputGroup>\r\n *     <InputGroup part=\"input\" placeholder=\"Search...\" />\r\n *     <InputGroup part=\"addon\">\r\n *       <SearchIcon />\r\n *     </InputGroup>\r\n *     <InputGroup part=\"addon\" align=\"inline-end\">12 results</InputGroup>\r\n *   </InputGroup>\r\n *\r\n *   <InputGroup>\r\n *     <InputGroup part=\"input\" placeholder=\"example.com\" class=\"!pl-1\" />\r\n *     <InputGroup part=\"addon\">\r\n *       <InputGroup part=\"text\">https://</InputGroup>\r\n *     </InputGroup>\r\n *     <InputGroup part=\"addon\" align=\"inline-end\">\r\n *       <InputGroup part=\"button\" size=\"xs\">\r\n *         Check\r\n *       </InputGroup>\r\n *     </InputGroup>\r\n *   </InputGroup>\r\n *\r\n *   <InputGroup>\r\n *     <InputGroup part=\"textarea\" placeholder=\"Ask, Search or Chat...\" />\r\n *     <InputGroup part=\"addon\" align=\"block-end\">\r\n *       <InputGroup part=\"button\" size=\"icon-xs\" class=\"rounded-full\">\r\n *         <PlusIcon />\r\n *       </InputGroup>\r\n *       <InputGroup part=\"button\" variant=\"ghost\">Auto</InputGroup>\r\n *       <InputGroup part=\"text\" class=\"ml-auto\">52% used</InputGroup>\r\n *       <Separator orientation=\"vertical\" class=\"!h-4\" />\r\n *       <InputGroup part=\"button\" size=\"icon-xs\" variant=\"default\" class=\"rounded-full\">\r\n *         <ArrowUpIcon />\r\n *         <span class=\"sr-only\">Send</span>\r\n *       </InputGroup>\r\n *     </InputGroup>\r\n *   </InputGroup>\r\n * </div>\r\n */\r\nimport type { HTMLAttributes, HTMLTag } from \"astro/types\";\r\nimport { cva } from \"class-variance-authority\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport Button from \"@bejamas/ui/components/Button.astro\";\r\nimport Input from \"@bejamas/ui/components/Input.astro\";\r\nimport Textarea from \"@bejamas/ui/components/Textarea.astro\";\r\n\r\ntype InputGroupPart =\r\n  | \"root\"\r\n  | \"addon\"\r\n  | \"button\"\r\n  | \"text\"\r\n  | \"input\"\r\n  | \"textarea\";\r\n\r\ntype Align = \"inline-start\" | \"inline-end\" | \"block-start\" | \"block-end\";\r\ntype GroupButtonSize = \"xs\" | \"sm\" | \"icon-xs\" | \"icon-sm\";\r\n\r\ntype RootProps = {\r\n  part?: \"root\";\r\n  as?: HTMLTag;\r\n  class?: string;\r\n} & HTMLAttributes<\"div\">;\r\n\r\ntype AddonProps = {\r\n  part: \"addon\";\r\n  as?: HTMLTag;\r\n  align?: Align;\r\n  class?: string;\r\n} & HTMLAttributes<\"div\">;\r\n\r\ntype ButtonProps = {\r\n  part: \"button\";\r\n  as?: HTMLTag;\r\n  size?: GroupButtonSize;\r\n  variant?: Parameters<typeof Button>[0][\"variant\"];\r\n  type?: \"button\" | \"submit\" | \"reset\";\r\n  class?: string;\r\n} & HTMLAttributes<\"button\">;\r\n\r\ntype TextProps = {\r\n  part: \"text\";\r\n  as?: HTMLTag;\r\n  class?: string;\r\n} & HTMLAttributes<\"span\">;\r\n\r\ntype InputProps = {\r\n  part: \"input\";\r\n  as?: HTMLTag;\r\n  class?: string;\r\n} & HTMLAttributes<\"input\">;\r\n\r\ntype TextareaProps = {\r\n  part: \"textarea\";\r\n  as?: HTMLTag;\r\n  class?: string;\r\n} & HTMLAttributes<\"textarea\">;\r\n\r\ntype Props =\r\n  | RootProps\r\n  | AddonProps\r\n  | ButtonProps\r\n  | TextProps\r\n  | InputProps\r\n  | TextareaProps;\r\n\r\nconst {\r\n  part: rawPart,\r\n  as: rawTag,\r\n  class: className = \"\",\r\n  align = \"inline-start\",\r\n  size = \"xs\",\r\n  variant = \"ghost\",\r\n  type = \"button\",\r\n  ...rest\r\n} = Astro.props as any as Props & {\r\n  align?: Align;\r\n  size?: GroupButtonSize;\r\n};\r\n\r\nconst part: InputGroupPart = (rawPart ?? \"root\") as InputGroupPart;\r\n\r\nconst rootClasses =\r\n  \"group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none h-9 min-w-0 has-[>textarea]:h-auto has-[>[data-align=inline-start]]:[&>input]:pl-2 has-[>[data-align=inline-end]]:[&>input]:pr-2 has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3 has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3 has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px] has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\";\r\n\r\nconst addonVariants = cva(\r\n  \"text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50\",\r\n  {\r\n    variants: {\r\n      align: {\r\n        \"inline-start\":\r\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\r\n        \"inline-end\":\r\n          \"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]\",\r\n        \"block-start\":\r\n          \"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5\",\r\n        \"block-end\":\r\n          \"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      align: \"inline-start\",\r\n    },\r\n  },\r\n);\r\n\r\nconst buttonSizeVariants = cva(\"text-sm shadow-none flex gap-2 items-center\", {\r\n  variants: {\r\n    size: {\r\n      xs: \"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2\",\r\n      sm: \"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5\",\r\n      \"icon-xs\": \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\r\n      \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\r\n    },\r\n  },\r\n  defaultVariants: {\r\n    size: \"xs\",\r\n  },\r\n});\r\n---\r\n\r\n{\r\n  part === \"root\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? \"div\";\r\n      return (\r\n        <Tag\r\n          {...rest}\r\n          role=\"group\"\r\n          data-slot=\"input-group\"\r\n          class={cn(rootClasses, className)}\r\n        >\r\n          <slot />\r\n        </Tag>\r\n      );\r\n    })()\r\n}\r\n\r\n{\r\n  part === \"addon\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? \"div\";\r\n      return (\r\n        <Tag\r\n          {...rest}\r\n          role=\"group\"\r\n          data-slot=\"input-group-addon\"\r\n          data-align={align as Align}\r\n          class={cn(addonVariants({ align: align as Align }), className)}\r\n        >\r\n          <slot />\r\n        </Tag>\r\n      );\r\n    })()\r\n}\r\n\r\n{\r\n  part === \"button\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? undefined;\r\n      if (Tag) {\r\n        return (\r\n          <Tag\r\n            {...rest}\r\n            data-slot=\"input-group-button\"\r\n            class={cn(\r\n              buttonSizeVariants({ size: size as GroupButtonSize }),\r\n              className,\r\n            )}\r\n          >\r\n            <slot />\r\n          </Tag>\r\n        );\r\n      }\r\n      return (\r\n        <Button\r\n          type={type as any}\r\n          variant={(variant as any) ?? \"ghost\"}\r\n          data-size={size as GroupButtonSize}\r\n          data-slot=\"input-group-button\"\r\n          class={cn(\r\n            buttonSizeVariants({ size: size as GroupButtonSize }),\r\n            className,\r\n          )}\r\n          {...(rest as any)}\r\n        >\r\n          <slot />\r\n        </Button>\r\n      );\r\n    })()\r\n}\r\n\r\n{\r\n  part === \"text\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? \"span\";\r\n      return (\r\n        <Tag\r\n          {...rest}\r\n          data-slot=\"input-group-text\"\r\n          class={cn(\r\n            \"text-muted-foreground flex items-center gap-2 text-sm [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\r\n            className,\r\n          )}\r\n        >\r\n          <slot />\r\n        </Tag>\r\n      );\r\n    })()\r\n}\r\n\r\n{\r\n  part === \"input\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? undefined;\r\n      if (Tag) {\r\n        return (\r\n          <Tag\r\n            {...rest}\r\n            data-slot=\"input-group-control\"\r\n            class={cn(\r\n              \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\r\n              className,\r\n            )}\r\n          />\r\n        );\r\n      }\r\n      return (\r\n        <Input\r\n          data-slot=\"input-group-control\"\r\n          class={cn(\r\n            \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\r\n            className,\r\n          )}\r\n          {...(rest as any)}\r\n        />\r\n      );\r\n    })()\r\n}\r\n\r\n{\r\n  part === \"textarea\" &&\r\n    (() => {\r\n      const Tag = (rawTag as HTMLTag) ?? undefined;\r\n      if (Tag) {\r\n        return (\r\n          <Tag\r\n            {...rest}\r\n            data-slot=\"input-group-control\"\r\n            class={cn(\r\n              \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\r\n              className,\r\n            )}\r\n          />\r\n        );\r\n      }\r\n      return (\r\n        <Textarea\r\n          data-slot=\"input-group-control\"\r\n          class={cn(\r\n            \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\r\n            className,\r\n          )}\r\n          {...(rest as any)}\r\n        />\r\n      );\r\n    })()\r\n}\r\n\r\n<script type=\"module\">\r\n  // Focus the nearest input when clicking on addons (unless clicking a button)\r\n  document.addEventListener(\"click\", (e) => {\r\n    const addon = e.target.closest(\"[data-slot='input-group-addon']\");\r\n    if (!addon) return;\r\n    if (e.target.closest(\"button\")) return;\r\n    const root = addon.closest(\"[data-slot='input-group']\");\r\n    if (!root) return;\r\n    const input = root.querySelector(\"[data-slot='input-group-control']\");\r\n    input?.focus();\r\n  });\r\n  // Disabled styling passthrough when any control is disabled\r\n  document.querySelectorAll(\"[data-slot='input-group']\").forEach((group) => {\r\n    const updateDisabled = () => {\r\n      const ctrl = group.querySelector(\"[data-slot='input-group-control']\");\r\n      group.dataset.disabled = ctrl?.hasAttribute(\"disabled\")\r\n        ? \"true\"\r\n        : \"false\";\r\n    };\r\n    updateDisabled();\r\n    group.addEventListener(\"change\", updateDisabled, { capture: true });\r\n  });\r\n  // Expose for CSS ':has()' emulation via dataset if needed by consumers\r\n</script>\r\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}