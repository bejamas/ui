{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dialog",
  "dependencies": [],
  "files": [
    {
      "path": "ui/Dialog.astro",
      "content": "---\r\n/**\r\n * @component Dialog\r\n * @title Dialog\r\n * @description An accessible modal window for focused content or user actions. Built on native `<dialog>` element with open/close logic.\r\n * @figmaUrl https://www.figma.com/design/koxai7zw5vIuBzuVxe5T2l/bejamas-ui?node-id=2543-9384&t=YFStJ3V8fXEO8QD8-4\r\n *\r\n * @preview\r\n *\r\n * <Button onclick=\"myDialog.open()\">Manage Cookies</Button>\r\n * <Dialog id=\"myDialog\" class=\"backdrop-blur-md\">\r\n *   <Dialog part=\"title\">Manage Cookies</Dialog>\r\n *   <Dialog part=\"description\">\r\n *     Using websites and apps involves storing and retrieving information from your device, including cookies and other identifiers, which can be shared with third parties, for various activities. We provide a simple tool below allowing you to tailor your choices as you deem fit. You can change your consent at any time. Learn more.\r\n *   </Dialog>\r\n *   <Dialog part=\"content\">\r\n *     <div class=\"mt-5\">\r\n *       <div class=\"flex items-center gap-3\">\r\n *         <Checkbox id=\"cookies-necessary\" name=\"cookies-necessary\" disabled checked />\r\n *         <Label for=\"cookies-necessary\">Strictly Necessary Cookies (always active)</Label>\r\n *       </div>\r\n *       <p class=\"text-sm text-muted-foreground ml-8 mt-1\">These cookies are essential for the site to function and cannot be toggled off. They assist with security, user authentication, customer support, etc.</p>\r\n *     </div>\r\n *     <div class=\"mt-5\">\r\n *       <div class=\"flex items-center gap-3\">\r\n *         <Checkbox id=\"cookies-analytics\" name=\"cookies-analytics\" />\r\n *         <Label for=\"cookies-analytics\">Analytics Cookies</Label>\r\n *       </div>\r\n *       <p class=\"text-sm text-muted-foreground ml-8 mt-1\">These cookies help us understand how visitors interact with our site. They allow us to measure traffic and improve site performance.</p>\r\n *     </div>\r\n *     <div class=\"mt-5\">\r\n *       <div class=\"flex items-center gap-3\">\r\n *         <Checkbox id=\"cookies-marketing-performance\" name=\"cookies-marketing-performance\" />\r\n *         <Label for=\"cookies-marketing-performance\">Marketing Performance Cookies</Label>\r\n *       </div>\r\n *       <p class=\"text-sm text-muted-foreground ml-8 mt-1\">These cookies help us measure the effectiveness of our marketing campaigns.</p>\r\n *     </div>\r\n *   </Dialog>\r\n *   <Dialog part=\"footer\">\r\n *     <Dialog part=\"close\" class=\"mt-4\">Close</Dialog>\r\n *     <Button data-dialog-close class=\"mt-4\">Save changes</Button>\r\n *   </Dialog>\r\n * </Dialog>\r\n */\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n import type { HTMLAttributes, HTMLTag } from \"astro/types\";\r\n \r\n type DialogPart = \"root\" | \"content\" | \"footer\" | \"title\" | \"description\" | \"close\";\r\n \r\n type DialogRootProps = {\r\n   part?: \"root\";\r\n   id?: string;\r\n   open?: boolean;\r\n   onOpenChange?: ((open: boolean) => void) | null;\r\n   class?: string;\r\n   backdropClass?: string;\r\n   containerClass?: string;\r\n   closeOnBackdrop?: boolean;\r\n } & HTMLAttributes<\"dialog\">;\r\n \r\n type DialogContentProps = {\r\n   part: \"content\";\r\n   as?: HTMLTag;\r\n   class?: string;\r\n } & HTMLAttributes<\"div\">;\r\n \r\n type DialogFooterProps = {\r\n   part: \"footer\";\r\n   as?: HTMLTag;\r\n   class?: string;\r\n } & HTMLAttributes<\"div\">;\r\n \r\n type DialogTitleProps = {\r\n   part: \"title\";\r\n   as?: HTMLTag;\r\n   class?: string;\r\n } & HTMLAttributes<\"div\">;\r\n \r\n type DialogDescriptionProps = {\r\n   part: \"description\";\r\n   as?: HTMLTag;\r\n   class?: string;\r\n } & HTMLAttributes<\"p\">;\r\n \r\n type DialogCloseProps = {\r\n   part: \"close\";\r\n   as?: HTMLTag;\r\n   class?: string;\r\n } & HTMLAttributes<\"button\">;\r\n \r\n type Props =\r\n   | DialogRootProps\r\n   | DialogContentProps\r\n   | DialogFooterProps\r\n   | DialogTitleProps\r\n   | DialogDescriptionProps\r\n   | DialogCloseProps;\r\n\r\n const {\r\n   part: rawPart,\r\n   open = false,\r\n   onOpenChange = null,\r\n   class: className = \"\",\r\n   backdropClass = \"\",\r\n   containerClass = \"\",\r\n   closeOnBackdrop = true,\r\n   id: providedId,\r\n   as: Tag = \"div\" as HTMLTag,\r\n   ...rest\r\n } = Astro.props as Props;\r\n \r\n const part = (rawPart ?? \"root\") as DialogPart;\r\n\r\nconst id = providedId ?? `dialog-${Math.random().toString(36).slice(2, 10)}`;\r\n---\r\n \r\n {\r\n   part === \"root\" && (\r\n     <Fragment>\r\n       <dialog\r\n         id={id}\r\n         class={cn(\r\n           \"group grid place-items-center opacity-0 open:opacity-100 visibility-hidden open:visibility-visible open:pointer-events-auto pointer-events-none transition-discrete max-w-screen max-h-screen bg-transparent transition-all duration-150 ease-in-out fixed z-50 left-0 top-0 w-full h-full\",\r\n           className,\r\n         )}\r\n         {...rest}\r\n       >\r\n         <div\r\n           class={[\r\n             \"relative z-10 bg-background rounded-xl shadow-lg p-6 max-w-lg w-full row-start-1 col-start-1\",\r\n             // motion\r\n             \"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 transition-all duration-150 ease-in-out\",\r\n             \"group-open:opacity-100 group-open:translate-y-0 group-open:sm:scale-100\",\r\n             containerClass,\r\n           ].join(\" \")}\r\n           role=\"document\"\r\n         >\r\n          <slot />\r\n        </div>\r\n \r\n         <form\r\n           method=\"dialog\"\r\n           class=\"grid row-start-1 col-start-1 place-self-stretch -z-1 opacity-0\"\r\n         >\r\n           <button data-dialog-close>Close</button>\r\n         </form>\r\n       </dialog>\r\n \r\n       <script type=\"module\" define:vars={{ id, open, closeOnBackdrop }}>\r\n         const dialog = /** @type {HTMLDialogElement|null} */ (\r\n           document.getElementById(id)\r\n         );\r\n         if (!dialog) {\r\n           console.warn(`[Dialog] Element with id \"${id}\" not found.`);\r\n         } else {\r\n           const openDialog = () => {\r\n             // Make it visible but keep in closed state for first paint\r\n             // dialog.classList.remove('hidden');\r\n             // dialog.classList.add('flex');\r\n             if (!dialog.open) dialog.showModal();\r\n           };\r\n \r\n           const animateClose = () => {\r\n             dialog.setAttribute(\"data-state\", \"closed\");\r\n             if (dialog.open) dialog.close();\r\n           };\r\n \r\n           // Backdrop click to close\r\n           if (closeOnBackdrop) {\r\n             const backdrop = dialog.querySelector(\"[data-dialog-backdrop]\");\r\n             if (backdrop) {\r\n               backdrop.addEventListener(\"click\", () => animateClose());\r\n             }\r\n           }\r\n \r\n           // [data-dialog-close] elements\r\n           dialog.querySelectorAll(\"[data-dialog-close]\").forEach((btn) => {\r\n             btn.addEventListener(\"click\", () => animateClose());\r\n           });\r\n \r\n           // Dispatch custom events and manage visibility\r\n           dialog.addEventListener(\"close\", () => {\r\n             // dialog.classList.add('hidden');\r\n             // dialog.classList.remove('flex');\r\n             dialog.dispatchEvent(new CustomEvent(\"dialog-close\", { bubbles: true }));\r\n           });\r\n           dialog.addEventListener(\"cancel\", (e) => {\r\n             // ESC key: prevent default to allow animated close\r\n             e.preventDefault();\r\n             dialog.dispatchEvent(new CustomEvent(\"dialog-cancel\", { bubbles: true }));\r\n             animateClose();\r\n           });\r\n \r\n           // Expose a global controller to match <Button onclick={myDialog.open()}>\r\n           // window[id].open() / close() / toggle() / isOpen()\r\n           const controller = {\r\n             open: () => openDialog(),\r\n             close: () => animateClose(),\r\n             toggle: () => (dialog.open ? animateClose() : openDialog()),\r\n             isOpen: () => dialog.open,\r\n             el: dialog,\r\n           };\r\n           try {\r\n             // Define as non-configurable to avoid accidental overwrites\r\n             Object.defineProperty(window, id, {\r\n               value: controller,\r\n               writable: false,\r\n               configurable: false,\r\n             });\r\n           } catch {\r\n             // Fallback assignment if property already exists\r\n             window[id] = controller;\r\n           }\r\n           if (open) {\r\n             openDialog();\r\n           }\r\n         }\r\n       </script>\r\n     </Fragment>\r\n   )\r\n }\r\n \r\n {\r\n   part === \"title\" && (\r\n     <Tag\r\n       {...rest}\r\n       slot=\"title\"\r\n       data-slot=\"dialog-title\"\r\n       class={cn(\"mb-4 font-medium text-xl text-foreground\", className)}\r\n     >\r\n       <slot />\r\n     </Tag>\r\n   )\r\n }\r\n \r\n {\r\n   part === \"description\" && (\r\n     <Tag\r\n       {...rest}\r\n       slot=\"description\"\r\n       data-slot=\"dialog-description\"\r\n       class={cn(\"text-sm text-muted-foreground\", className)}\r\n     >\r\n       <slot />\r\n     </Tag>\r\n   )\r\n }\r\n \r\n {\r\n   part === \"content\" && (\r\n     <Tag\r\n       {...rest}\r\n       slot=\"content\"\r\n       data-slot=\"dialog-content\"\r\n       class={cn(\"mb-6\", className)}\r\n     >\r\n       <slot />\r\n     </Tag>\r\n   )\r\n }\r\n \r\n {\r\n   part === \"footer\" && (\r\n     <Tag\r\n       {...rest}\r\n       slot=\"footer\"\r\n       data-slot=\"dialog-footer\"\r\n       class={cn(\"flex justify-end gap-2\", className)}\r\n     >\r\n       <slot />\r\n     </Tag>\r\n   )\r\n }\r\n \r\n {\r\n   part === \"close\" && (\r\n     <Tag\r\n       {...rest}\r\n       data-slot=\"dialog-close\"\r\n       data-dialog-close\r\n       class={cn(\r\n         \"ring-offset-background focus:ring-ring rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden inline-flex items-center gap-2\",\r\n         className,\r\n       )}\r\n     >\r\n       <slot />\r\n       {!Astro.slots.default && <span class=\"sr-only\">Close</span>}\r\n     </Tag>\r\n   )\r\n }\r\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}