---
title: Date
description: Formats and displays a raw date string in a human-friendly way.
---

import { Tabs as DocsTabs, TabItem as DocsTabItem } from '@astrojs/starlight/components';
import Date from '@bejamas/ui/components/Date.astro';
import Separator from '@bejamas/ui/components/Separator.astro';

Formats and displays a raw date string in a human-friendly way.

<DocsTabs>
  <DocsTabItem label="Preview">
    <div class="not-content flex justify-center p-10 border border-border border-dashed rounded-xl min-h-[450px] items-center">
<div class="grid grid-cols-2 gap-4">
  <div>Default:</div> <Date date="2024-06-01T12:00:00Z" />
  <Separator class="col-span-2" />
  <div>Short:</div> <Date date="2024-06-01T12:00:00Z" format="short" />
  <Separator class="col-span-2" />
  <div>Time:</div> <Date date="2024-06-01T12:00:00Z" format="time" />
  <Separator class="col-span-2" />
  <div>Full:</div> <Date date="2024-06-01T12:00:00Z" format="full" />
  <Separator class="col-span-2" />
  <div>Long:</div> <Date date="2024-06-01T12:00:00Z" format="long" />
  <Separator class="col-span-2" />
  <div>Long with time:</div> <Date date="2024-06-01T12:00:00Z" format="long" includeTime />
</div>
    </div>
  </DocsTabItem>
  <DocsTabItem label="Source">

```astro
<div class="grid grid-cols-2 gap-4">
  <div>Default:</div> <Date date="2024-06-01T12:00:00Z" />
  <Separator class="col-span-2" />
  <div>Short:</div> <Date date="2024-06-01T12:00:00Z" format="short" />
  <Separator class="col-span-2" />
  <div>Time:</div> <Date date="2024-06-01T12:00:00Z" format="time" />
  <Separator class="col-span-2" />
  <div>Full:</div> <Date date="2024-06-01T12:00:00Z" format="full" />
  <Separator class="col-span-2" />
  <div>Long:</div> <Date date="2024-06-01T12:00:00Z" format="long" />
  <Separator class="col-span-2" />
  <div>Long with time:</div> <Date date="2024-06-01T12:00:00Z" format="long" includeTime />
</div>
```
  </DocsTabItem>
</DocsTabs>

## Installation
<DocsTabs syncKey="installation">
   <DocsTabItem label="CLI">

<DocsTabs syncKey="pkg">
  <DocsTabItem label="bun">

```bash
 bunx bejamas add date
```

  </DocsTabItem>
  <DocsTabItem label="npm">

```bash
 npx bejamas add date
```

  </DocsTabItem>
  <DocsTabItem label="pnpm">

```bash
 pnpm dlx bejamas add date
```

  </DocsTabItem>
  <DocsTabItem label="yarn">

```bash
 yarn dlx bejamas add date
```

  </DocsTabItem>
</DocsTabs>
</DocsTabItem>
<DocsTabItem label="Manual">

```astro
---
/**
 * @component Date
 * @description Formats and displays a raw date string in a human-friendly way.
 * 
 * @prop {string|Date} date - The raw date value (string or Date object).
 * @prop {string} [format] - Optional format string (defaults to "long" date).
 * @prop {boolean} [includeTime] - When true, also include time alongside the date.
 * @prop {string} [locale="en-US"] - BCP47 locale used for formatting.
 * @prop {string} [class] - Additional classes for the date element.
 * 
 * @example
 * <div class="grid grid-cols-2 gap-4">
 *   <div>Default:</div> <Date date="2024-06-01T12:00:00Z" />
 *   <Separator class="col-span-2" />
 *   <div>Short:</div> <Date date="2024-06-01T12:00:00Z" format="short" />
 *   <Separator class="col-span-2" />
 *   <div>Time:</div> <Date date="2024-06-01T12:00:00Z" format="time" />
 *   <Separator class="col-span-2" />
 *   <div>Full:</div> <Date date="2024-06-01T12:00:00Z" format="full" />
 *   <Separator class="col-span-2" />
 *   <div>Long:</div> <Date date="2024-06-01T12:00:00Z" format="long" />
 *   <Separator class="col-span-2" />
 *   <div>Long with time:</div> <Date date="2024-06-01T12:00:00Z" format="long" includeTime />
 * </div>
 * 
 * @usage
 * 
 * ## Usage
 * 
 * ```astro
 * import Date from '@/ui/components/Date.astro';
 * 
 * <Date date="2024-06-01T12:00:00Z" />
 * ```
 * 
 * @examples
 * 
 * ### Render-function slot example (custom order/separator)
 * 
 * <Date date="2024-06-01T12:00:00Z" includeTime>
 *   {({ date, time }) => <span>{time} · {date}</span>}
 * </Date>
 * 
 * ### Custom locale example
 * 
 * <Date date="2024-06-01T12:00:00Z" locale="fr-FR" />
 * <Date date="2024-06-01T12:00:00Z" locale="de-DE" />
 * <Date date="2024-06-01T12:00:00Z" locale="es-ES" />
 * <Date date="2024-06-01T12:00:00Z" locale="pl-PL" />
 *
 */
const {
  date,
  format = "long",
  includeTime = false,
  locale = "en-US",
  class: className = "",
  ...props
} = Astro.props;

// Helper: parse date input
function parseDate(input) {
  if (!input) return null;
  if (input instanceof Date) return input;
  // Try to parse string
  const d = new Date(input);
  return isNaN(d.getTime()) ? null : d;
}

const parsedDate = parseDate(date);

// Precompute separate date and time strings to support custom rendering via slot
let dateText = "";
let timeText = "";
let formatted = "";
let html = "";
if (parsedDate) {
  let dateOptions;
  switch (format) {
    case "short":
      dateOptions = { dateStyle: "short" };
      break;
    case "full":
      dateOptions = { dateStyle: "full" };
      break;
    case "time":
      dateOptions = undefined;
      break;
    case "long":
    default:
      dateOptions = { dateStyle: "long" };
      break;
  }
  if (dateOptions) {
    dateText = new Intl.DateTimeFormat(locale, dateOptions).format(parsedDate);
  }
  if (includeTime || format === "time") {
    timeText = new Intl.DateTimeFormat(locale, { timeStyle: "short" }).format(parsedDate);
  }
  formatted = format === "time" ? timeText : includeTime && timeText ? `${dateText}, ${timeText}` : dateText;

  if (Astro.slots.has("default")) {
    html = await Astro.slots.render("default", [{
      date: dateText,
      time: timeText,
      formatted,
      iso: parsedDate.toISOString(),
      dateObj: parsedDate,
    }]);
  }
}
---

{parsedDate ? (
  Astro.slots.has("default") ? (
    <Fragment set:html={html} />
  ) : (
    <time
      dateTime={parsedDate.toISOString()}
      class={className}
      {...props}
    >
      {formatted}
    </time>
  )
) : (
  <span class={["text-destructive", className].join(" ")} {...props}>
    Invalid date
  </span>
)}
```
  </DocsTabItem>
</DocsTabs>

## Usage

```astro
import Date from '@bejamas/ui/components/Date.astro';

<Date date="2024-06-01T12:00:00Z" />
```

## Props

- date
- format (default: "long")
- includeTime (default: false)
- locale (default: "en-US")
- class (default: "")

## Examples

### Render-function slot example (custom order/separator)

<DocsTabs>
  <DocsTabItem label="Preview">
    <div class="not-content flex justify-center p-10 border border-border border-dashed rounded-xl min-h-[450px] items-center">
<Date date="2024-06-01T12:00:00Z" includeTime>
  {({ date, time }) => <span>{time} · {date}</span>}
</Date>
    </div>
  </DocsTabItem>
  <DocsTabItem label="Source">

```astro
<Date date="2024-06-01T12:00:00Z" includeTime>
  {({ date, time }) => <span>{time} · {date}</span>}
</Date>
```
  </DocsTabItem>
</DocsTabs>

### Custom locale example

<DocsTabs>
  <DocsTabItem label="Preview">
    <div class="not-content flex justify-center p-10 border border-border border-dashed rounded-xl min-h-[450px] items-center">
<Date date="2024-06-01T12:00:00Z" locale="fr-FR" />
<Date date="2024-06-01T12:00:00Z" locale="de-DE" />
<Date date="2024-06-01T12:00:00Z" locale="es-ES" />
<Date date="2024-06-01T12:00:00Z" locale="pl-PL" />
    </div>
  </DocsTabItem>
  <DocsTabItem label="Source">

```astro
<Date date="2024-06-01T12:00:00Z" locale="fr-FR" />
<Date date="2024-06-01T12:00:00Z" locale="de-DE" />
<Date date="2024-06-01T12:00:00Z" locale="es-ES" />
<Date date="2024-06-01T12:00:00Z" locale="pl-PL" />
```
  </DocsTabItem>
</DocsTabs>
