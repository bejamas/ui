---
/**
 * @component Footer
 * @title Footer
 * @description Footer layout primitive with composable parts and footer-scoped CSS variables.
 * @figmaUrl https://www.figma.com/design/koxai7zw5vIuBzuVxe5T2l/bejamas-ui?node-id=2166-6001&t=YFStJ3V8fXEO8QD8-4
 *
 * @preview
 *
 * <Footer>
 *   <FooterMain>
 *     <FooterContainer>
 *       <FooterGrid columns={4}>
 *         <div><img src="/logo.svg" alt="Acme" class="h-8" /></div>
 *         <LinkGroup>
 *           <LinkGroupTitle>Resources</LinkGroupTitle>
 *           <LinkGroupList>
 *             <LinkGroupItem><a href="/blog">Blog</a></LinkGroupItem>
 *           </LinkGroupList>
 *         </LinkGroup>
 *       </FooterGrid>
 *     </FooterContainer>
 *   </FooterMain>
 *   <FooterBottom separator="soft">
 *     <FooterContainer>
 *       <FooterRow align="between">
 *         <span>Â© 2025 Acme Inc.</span>
 *       </FooterRow>
 *     </FooterContainer>
 *   </FooterBottom>
 * </Footer>
 *
 * @usage
 *
 * ```astro
 * ---
 * import { Footer, FooterMain, FooterBottom, FooterContainer, FooterGrid, FooterRow } from '@bejamas/ui/components/footer';
 * import { LinkGroup, LinkGroupTitle, LinkGroupList, LinkGroupItem } from '@bejamas/ui/components/link-group';
 * ---
 *
 * <Footer>
 *   <FooterMain>
 *     <FooterContainer>
 *       <FooterGrid columns={4}>
 *         <!-- Content here -->
 *       </FooterGrid>
 *     </FooterContainer>
 *   </FooterMain>
 * </Footer>
 * ```
 */

import { cn } from "@bejamas/ui/lib/utils";
import { cva } from "class-variance-authority";
import type { HTMLAttributes } from "astro/types";

type FooterVariant = "default" | "subtle" | "inverted";
type FooterDensity = "tight" | "normal" | "roomy";

type Props = {
  variant?: FooterVariant;
  density?: FooterDensity;
  class?: string;
  style?: string;
} & Omit<HTMLAttributes<"footer">, "style">;

const {
  class: className = "",
  style: inlineStyle = "",
  variant = "default",
  density = "normal",
  ...rest
} = Astro.props as Props;

const rootVariants = cva("w-full bg-footer text-footer-foreground", {
  variants: {
    density: {
      tight: "",
      normal: "",
      roomy: "",
    },
  },
  defaultVariants: {
    density: "normal",
  },
});
---

<footer
  {...rest}
  data-slot="footer"
  data-density={density}
  data-variant={variant}
  class={cn(rootVariants({ density }), className)}
  style={inlineStyle || undefined}
>
  <slot />
</footer>

