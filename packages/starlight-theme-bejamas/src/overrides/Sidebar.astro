---
import MobileMenuFooter from "virtual:starlight/components/MobileMenuFooter";
import SidebarPersister from "@astrojs/starlight/components/SidebarPersister.astro";
import SidebarSublist from "@astrojs/starlight/components/SidebarSublist.astro";

const { sidebar } = Astro.locals.starlightRoute;
---

<SidebarPersister>
  <div class="fade"></div>
  <SidebarSublist sublist={sidebar} />
</SidebarPersister>

<div class="md:sl-hidden">
  <MobileMenuFooter />
</div>

<style>
  @layer bejamas {
    .fade {
      --blur: 4px;
      --stop: 50%;
      --height: 72px;
      position: fixed;
      pointer-events: none;
      width: 100%;
      height: var(--height);
      user-select: none;
      -webkit-user-select: none;
      left: 0;
      -webkit-backdrop-filter: blur(var(--blur));
      backdrop-filter: blur(var(--blur));

      background: linear-gradient(to top, transparent, var(--background));
      mask-image: linear-gradient(
        to bottom,
        var(--background) var(--stop),
        transparent
      );
      top: 0;
    }
  }
</style>
