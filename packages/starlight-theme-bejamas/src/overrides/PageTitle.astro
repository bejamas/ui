---
import { Button } from "virtual:starlight-theme-bejamas/components/button";

import { ArrowRight, ArrowLeft, ArrowUpRight } from "@lucide/astro";

const { dir, pagination, template, entry } = Astro.locals.starlightRoute;
const { prev, next } = pagination;
const isRtl = dir === "rtl";
---

<div
  class:list={[
    "sl-bejamas-docs-title",
    entry.data.template === "splash" && "mt-10",
  ]}
>
  <h1 id="_top" class="tracking-tight">
    {Astro.locals.starlightRoute.entry.data.title}
  </h1>

  {
    entry.data.template !== "splash" && (
      <div class="sl-bejamas-docs-title-buttons">
        {entry.data.figmaUrl && (
          <Button
            variant="outline"
            size="sm"
            as="a"
            href={entry.data.figmaUrl}
            target="_blank"
          >
            <svg
              fill="none"
              height="24"
              viewBox="0 0 38 57"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
              class="text-lg"
            >
              <>
                <path
                  d="M19 28.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0Z"
                  fill="#1ABCFE"
                />
                <path
                  d="M0 47.5A9.5 9.5 0 0 1 9.5 38H19v9.5a9.5 9.5 0 1 1-19 0Z"
                  fill="#0ACF83"
                />
                <path d="M19 0v19h9.5a9.5 9.5 0 1 0 0-19H19Z" fill="#FF7262" />
                <path
                  d="M0 9.5A9.5 9.5 0 0 0 9.5 19H19V0H9.5A9.5 9.5 0 0 0 0 9.5Z"
                  fill="#F24E1E"
                />
                <path
                  d="M0 28.5A9.5 9.5 0 0 0 9.5 38H19V19H9.5A9.5 9.5 0 0 0 0 28.5Z"
                  fill="#A259FF"
                />
              </>
            </svg>
            Figma
            <ArrowUpRight />
          </Button>
        )}
        {prev && (
          <Button
            as="a"
            href={isRtl ? next.href : prev.href}
            variant="outline"
            size="icon-sm"
          >
            <ArrowLeft class="size-4" />
          </Button>
        )}
        {next && (
          <Button
            as="a"
            href={isRtl ? prev.href : next.href}
            variant="outline"
            size="icon-sm"
          >
            <ArrowRight class="size-4" />
          </Button>
        )}
      </div>
    )
  }

  {
    entry.data.description && (
      <p class="sl-bejamas-description">{entry.data.description}</p>
    )
  }
</div>

<style>
  @layer bejamas {
    .sl-bejamas-docs-title {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-top: 0.5rem;
      align-items: center;
    }
    .sl-bejamas-docs-title-buttons {
      gap: 0.5rem;
      display: none;
    }

    @media (min-width: 50rem) {
      .sl-bejamas-docs-title-buttons {
        display: flex;
      }
    }
  }

  .sl-bejamas-description {
    color: var(--muted-foreground);
    text-wrap: balance;
    margin-top: calc(var(--spacing) * 4);
    margin-bottom: calc(var(--spacing) * 2);
    width: 100%;
    max-width: 52ch;
  }

  @layer starlight.core {
    h1 {
      font-size: 1.875rem;
      line-height: 1.2;
      font-weight: 500;
      color: var(--sl-color-white);
    }

    @media (min-width: 50rem) {
      h1 {
        font-size: 2.25rem;
        line-height: calc(2.5 / 2.25);
      }
    }
  }
</style>
