---
import { cva, type VariantProps } from "class-variance-authority";
import { cn } from "@bejamas/ui/lib/utils";
import type { HTMLAttributes } from "astro/types";

type Props = {
  class?: string;
} & VariantProps<typeof collapsibleContentVariants> &
  HTMLAttributes<"div">;

export const collapsibleContentVariants = cva("overflow-hidden", {
  variants: {
    animation: {
      none: "",
      slide:
        "h-(--collapsible-panel-height) transition-[height] duration-200 ease-out motion-reduce:transition-none",
    },
  },
  defaultVariants: {
    animation: "none",
  },
});

const {
  class: className = "",
  animation = "none",
  ...rest
} = Astro.props as Props;
---

<div
  {...rest}
  data-slot="collapsible-content"
  class={cn(collapsibleContentVariants({ animation }), className)}
>
  <slot />
</div>
