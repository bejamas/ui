---
import { cva } from "class-variance-authority";
import { cn } from "@bejamas/ui/lib/utils";
import type { HTMLAttributes } from "astro/types";

type Props = {
  class?: string;
} & HTMLAttributes<"div">;

const { class: className = "", ...rest } = Astro.props as Props;

const contentWrapperVariants = cva(
  "grid grid-rows-[0fr] transition-[grid-template-rows] duration-150 ease-in-out group-data-[state=open]/collapsible:grid-rows-[1fr]",
);

const contentVariants = cva("overflow-hidden min-h-0");
---

<div class={cn(contentWrapperVariants())}>
  <div {...rest} data-slot="collapsible-content" class={cn(contentVariants(), className)}>
    <slot />
  </div>
</div>
