---
import type { HTMLAttributes } from "astro/types";
import { cn } from "@bejamas/ui/lib/utils";
import { Separator } from "../separator";

type Props = HTMLAttributes<"div">;

const { class: className = "", ...rest } = Astro.props as Props;

const hasContent = Astro.slots.has("default");
---

<div
  data-slot="field-separator"
  data-content={hasContent ? "true" : undefined}
  class={cn(
    "-my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2 relative",
    className,
  )}
  {...rest}
>
  <Separator class="absolute inset-0 top-1/2" />
  {
    hasContent && (
      <span
        class="text-muted-foreground px-2 bg-background relative mx-auto block w-fit"
        data-slot="field-separator-content"
      >
        <slot />
      </span>
    )
  }
</div>
